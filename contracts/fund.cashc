{
  "contractName": "MintingFund",
  "constructorInputs": [
    {
      "name": "redeemAsset1",
      "type": "bytes"
    },
    {
      "name": "asset1",
      "type": "bytes"
    },
    {
      "name": "amount1",
      "type": "int"
    },
    {
      "name": "redeemAsset2",
      "type": "bytes"
    },
    {
      "name": "asset2",
      "type": "bytes"
    },
    {
      "name": "amount2",
      "type": "int"
    }
  ],
  "abi": [
    {
      "name": "collect",
      "inputs": []
    },
    {
      "name": "distribute",
      "inputs": []
    }
  ],
  "bytecode": "OP_6 OP_PICK OP_0 OP_NUMEQUAL OP_IF OP_0 OP_0 OP_0 OP_BEGIN OP_2 OP_PICK OP_OUTPUTBYTECODE OP_4 OP_PICK OP_EQUAL OP_3 OP_PICK OP_OUTPUTTOKENCATEGORY OP_6 OP_PICK OP_EQUAL OP_BOOLAND OP_3 OP_PICK OP_OUTPUTTOKENAMOUNT OP_7 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_1 OP_ROT OP_DROP OP_SWAP OP_ENDIF OP_2 OP_PICK OP_OUTPUTBYTECODE OP_7 OP_PICK OP_EQUAL OP_3 OP_PICK OP_OUTPUTTOKENCATEGORY OP_9 OP_PICK OP_EQUAL OP_BOOLAND OP_3 OP_PICK OP_OUTPUTTOKENAMOUNT OP_10 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_DROP OP_1 OP_ENDIF OP_2 OP_PICK OP_1ADD OP_3 OP_ROLL OP_DROP OP_SWAP OP_TOALTSTACK OP_SWAP OP_FROMALTSTACK OP_2 OP_PICK OP_TXOUTPUTCOUNT OP_GREATERTHANOREQUAL OP_UNTIL OP_SWAP OP_VERIFY OP_VERIFY OP_2DROP OP_2DROP OP_2DROP OP_2DROP OP_1 OP_ELSE OP_6 OP_ROLL OP_1 OP_NUMEQUALVERIFY OP_0 OP_0 OP_0 OP_BEGIN OP_2 OP_PICK OP_UTXOBYTECODE OP_4 OP_PICK OP_EQUAL OP_3 OP_PICK OP_UTXOTOKENCATEGORY OP_6 OP_PICK OP_EQUAL OP_BOOLAND OP_3 OP_PICK OP_UTXOTOKENAMOUNT OP_7 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_1 OP_ROT OP_DROP OP_SWAP OP_ENDIF OP_2 OP_PICK OP_UTXOBYTECODE OP_7 OP_PICK OP_EQUAL OP_3 OP_PICK OP_UTXOTOKENCATEGORY OP_9 OP_PICK OP_EQUAL OP_BOOLAND OP_3 OP_PICK OP_UTXOTOKENAMOUNT OP_10 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_DROP OP_1 OP_ENDIF OP_2 OP_PICK OP_1ADD OP_3 OP_ROLL OP_DROP OP_SWAP OP_TOALTSTACK OP_SWAP OP_FROMALTSTACK OP_2 OP_PICK OP_TXOUTPUTCOUNT OP_GREATERTHANOREQUAL OP_UNTIL OP_SWAP OP_VERIFY OP_VERIFY OP_2DROP OP_2DROP OP_2DROP OP_DROP OP_1 OP_ENDIF",
  "source": "pragma cashscript ~0.13.0;\n\n// a brute forcy way but get it done first\n// ideally the fund details could be more dynamic\ncontract MintingFund(bytes redeemAsset1, bytes asset1, int amount1, bytes redeemAsset2, bytes asset2, int amount2) \n{\n    function collect() {\n        int outputIndex = 0;\n        bool asset1Collected = false;\n        bool asset2Collected = false;\n        do {\n            if(tx.outputs[outputIndex].lockingBytecode == redeemAsset1\n                && tx.outputs[outputIndex].tokenCategory == asset1\n                && tx.outputs[outputIndex].tokenAmount == amount1) {\n                asset1Collected = true;\n            }\n\n            if(tx.outputs[outputIndex].lockingBytecode == redeemAsset2\n                && tx.outputs[outputIndex].tokenCategory == asset2\n                && tx.outputs[outputIndex].tokenAmount == amount2) {\n                asset2Collected = true;\n            }\n\n            outputIndex = outputIndex + 1;\n        } while(outputIndex < tx.outputs.length);\n        require(asset1Collected);\n        require(asset2Collected);\n    }\n\n    function distribute() {\n        int inputIndex = 0;\n        bool asset1Distributed = false;\n        bool asset2Distributed = false;\n        do {\n            if(tx.inputs[inputIndex].lockingBytecode == redeemAsset1\n                && tx.inputs[inputIndex].tokenCategory == asset1\n                && tx.inputs[inputIndex].tokenAmount == amount1) {\n                asset1Distributed = true;\n            }\n\n            if(tx.inputs[inputIndex].lockingBytecode == redeemAsset2\n                && tx.inputs[inputIndex].tokenCategory == asset2\n                && tx.inputs[inputIndex].tokenAmount == amount2) {\n                asset2Distributed = true;\n            }\n\n            inputIndex = inputIndex + 1;\n        } while(inputIndex < tx.outputs.length);\n        require(asset1Distributed);\n        require(asset2Distributed);\n    }\n}\n",
  "debug": {
    "bytecode": "5679009c63000000655279cd5479875379d15679879a5379d357799c9a63517b757c685279cd5779875379d15979879a5379d35a799c9a6375516852798b537a757c6b7c6c5279c4a2667c69696d6d6d6d5167567a519d000000655279c75479875379ce5679879a5379d057799c9a63517b757c685279c75779875379ce5979879a5379d05a799c9a6375516852798b537a757c6b7c6c5279c4a2667c69696d6d6d755168",
    "sourceMap": "7:4:28:5;;;;;8:26:8:27;9:31:9:36;10::10;11:8:25:49;12:26:12:37;;:15::54:1;:58::70:0;;:15:::1;13:30:13:41:0;;:19::56:1;:60::66:0;;:19:::1;12:15;14:30:14:41:0;;:19::54:1;:58::65:0;;:19:::1;12:15;14:67:16:13:0;15:34:15:38;:16::39:1;;;14:67:16:13;18:26:18:37:0;;:15::54:1;:58::70:0;;:15:::1;19:30:19:41:0;;:19::56:1;:60::66:0;;:19:::1;18:15;20:30:20:41:0;;:19::54:1;:58::65:0;;:19:::1;18:15;20:67:22:13:0;21:16:21:39:1;;20:67:22:13;24:26:24:37:0;;:::41:1;:12::42;;;;;;;25:16:25:27:0;;:30::47;11:8::49:1;;26:16:26:31:0;:8::33:1;27::27;7:4:28:5;;;;;;30::51::0;;;;31:25:31:26;32:33:32:38;33::33;34:8:48:48;35:25:35:35;;:15::52:1;:56::68:0;;:15:::1;36:29:36:39:0;;:19::54:1;:58::64:0;;:19:::1;35:15;37:29:37:39:0;;:19::52:1;:56::63:0;;:19:::1;35:15;37:65:39:13:0;38:36:38:40;:16::41:1;;;37:65:39:13;41:25:41:35:0;;:15::52:1;:56::68:0;;:15:::1;42:29:42:39:0;;:19::54:1;:58::64:0;;:19:::1;41:15;43:29:43:39:0;;:19::52:1;:56::63:0;;:19:::1;41:15;43:65:45:13:0;44:16:44:41:1;;43:65:45:13;47:25:47:35:0;;:::39:1;:12::40;;;;;;;48:16:48:26:0;;:29::46;34:8::48:1;;49:16:49:33:0;:8::35:1;50::50;30:4:51:5;;;;;5:0:52:1",
    "logs": [],
    "requires": [
      {
        "ip": 81,
        "line": 26
      },
      {
        "ip": 82,
        "line": 27
      },
      {
        "ip": 163,
        "line": 49
      },
      {
        "ip": 164,
        "line": 50
      }
    ]
  },
  "compiler": {
    "name": "cashc",
    "version": "0.13.0-next.1"
  },
  "updatedAt": "2025-11-21T02:46:56.639Z"
}