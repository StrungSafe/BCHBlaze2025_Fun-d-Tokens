{
  "contractName": "Collection",
  "constructorInputs": [
    {
      "name": "managerCategory",
      "type": "bytes"
    },
    {
      "name": "holdingsTemplate",
      "type": "bytes"
    },
    {
      "name": "asset1",
      "type": "bytes"
    },
    {
      "name": "amount1",
      "type": "int"
    },
    {
      "name": "asset2",
      "type": "bytes"
    },
    {
      "name": "amount2",
      "type": "int"
    }
  ],
  "abi": [
    {
      "name": "assert",
      "inputs": []
    }
  ],
  "bytecode": "OP_0 OP_0 OP_BEGIN OP_DUP OP_UTXOTOKENCATEGORY OP_3 OP_PICK OP_EQUAL OP_IF OP_1 OP_ROT OP_DROP OP_SWAP OP_ENDIF OP_DUP OP_1ADD OP_NIP OP_DUP OP_TXINPUTCOUNT OP_GREATERTHANOREQUAL OP_UNTIL OP_SWAP OP_VERIFY OP_0 OP_0 OP_0 OP_0 OP_0 OP_BEGIN OP_4 OP_PICK OP_OUTPUTBYTECODE aa20 00 OP_9 OP_PICK OP_CAT 00 OP_CAT OP_11 OP_PICK OP_CAT OP_10 OP_PICK OP_CAT OP_SHA256 OP_CAT 87 OP_CAT OP_EQUAL OP_5 OP_PICK OP_OUTPUTTOKENCATEGORY OP_10 OP_PICK OP_EQUAL OP_BOOLAND OP_5 OP_PICK OP_OUTPUTTOKENAMOUNT OP_11 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_1 OP_4 OP_ROLL OP_DROP OP_SWAP OP_TOALTSTACK OP_SWAP OP_TOALTSTACK OP_SWAP OP_FROMALTSTACK OP_FROMALTSTACK OP_OVER OP_1ADD OP_ROT OP_DROP OP_SWAP OP_ENDIF OP_4 OP_PICK OP_OUTPUTBYTECODE aa20 00 OP_9 OP_PICK OP_CAT 00 OP_CAT OP_11 OP_PICK OP_CAT OP_10 OP_PICK OP_CAT OP_SHA256 OP_CAT 87 OP_CAT OP_EQUAL OP_5 OP_PICK OP_OUTPUTTOKENCATEGORY OP_12 OP_PICK OP_EQUAL OP_BOOLAND OP_5 OP_PICK OP_OUTPUTTOKENAMOUNT OP_13 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_1 OP_3 OP_ROLL OP_DROP OP_SWAP OP_TOALTSTACK OP_SWAP OP_FROMALTSTACK OP_DUP OP_1ADD OP_NIP OP_ENDIF OP_4 OP_PICK OP_1ADD OP_5 OP_ROLL OP_DROP OP_SWAP OP_TOALTSTACK OP_SWAP OP_TOALTSTACK OP_SWAP OP_TOALTSTACK OP_SWAP OP_FROMALTSTACK OP_FROMALTSTACK OP_FROMALTSTACK OP_4 OP_PICK OP_TXOUTPUTCOUNT OP_GREATERTHANOREQUAL OP_UNTIL OP_3 OP_ROLL OP_VERIFY OP_ROT OP_VERIFY OP_SWAP OP_1 OP_NUMEQUALVERIFY OP_2 OP_NUMEQUALVERIFY OP_2DROP OP_2DROP OP_2DROP OP_2DROP OP_1",
  "source": "pragma cashscript ~0.13.0;\n\ncontract Collection(bytes managerCategory, bytes holdingsTemplate, bytes asset1, int amount1, bytes asset2, int amount2) \n{\n    function assert() {\n        // verify manager in transaction\n        bool managerSeen = false;\n        int inputIndex = 0;\n        do {\n            if(tx.inputs[inputIndex].tokenCategory == managerCategory) {\n                managerSeen = true;\n            }\n            inputIndex = inputIndex + 1;\n        } while(inputIndex < tx.inputs.length);\n        require(managerSeen);\n\n\n        int outputIndex = 0;\n        bool asset1Collected = false;\n        bool asset2Collected = false;\n        int asset1CollectionCount = 0;\n        int asset2CollectionCount = 0;\n        do {\n            if(tx.outputs[outputIndex].lockingBytecode == new LockingBytecodeP2SH32(sha256(bytes(0x00) + managerCategory + bytes(0x00) + asset1 + holdingsTemplate))\n                && tx.outputs[outputIndex].tokenCategory == asset1\n                && tx.outputs[outputIndex].tokenAmount == amount1) {\n                asset1Collected = true;\n                asset1CollectionCount = asset1CollectionCount + 1;\n            }\n\n            if(tx.outputs[outputIndex].lockingBytecode == new LockingBytecodeP2SH32(sha256(bytes(0x00) + managerCategory + bytes(0x00) + asset1 + holdingsTemplate))\n                && tx.outputs[outputIndex].tokenCategory == asset2\n                && tx.outputs[outputIndex].tokenAmount == amount2) {\n                asset2Collected = true;\n                asset2CollectionCount = asset2CollectionCount + 1;\n            }\n            outputIndex = outputIndex + 1;\n        } while(outputIndex < tx.outputs.length);\n        require(asset1Collected);\n        require(asset2Collected);\n        require(asset1CollectionCount == 1);\n        require(asset2CollectionCount == 2);\n    }\n}\n",
  "debug": {
    "bytecode": "00006576ce53798763517b757c68768b7776c3a2667c690000000000655479cd02aa20010059797e01007e5b797e5a797ea87e01877e875579d15a79879a5579d35b799c9a6351547a757c6b7c6b7c6c6c788b7b757c685479cd02aa20010059797e01007e5b797e5a797ea87e01877e875579d15c79879a5579d35d799c9a6351537a757c6b7c6c768b776854798b557a757c6b7c6b7c6b7c6c6c6c5479c4a266537a697b697c519d529d6d6d6d6d51",
    "sourceMap": "7:27:7:32;8:25:8:26;9:8:14:47;10:25:10:35;:15::50:1;:54::69:0;;:15:::1;:71:12:13:0;11:30:11:34;:16::35:1;;;10:71:12:13;13:25:13:35:0;:::39:1;:12::40;14:16:14:26:0;:29::45;9:8::47:1;;15:16:15:27:0;:8::29:1;18:26:18:27:0;19:31:19:36;20::20;21:36:21:37;22::22;23:8:38:49;24:26:24:37;;:15::54:1;:58::164:0;:97::101;:105::120;;:91:::1;:129::133:0;:91::134:1;:137::143:0;;:91:::1;:146::162:0;;:91:::1;:84::163;:58::164;;;:15;25:30:25:41:0;;:19::56:1;:60::66:0;;:19:::1;24:15;26:30:26:41:0;;:19::54:1;:58::65:0;;:19:::1;24:15;26:67:29:13:0;27:34:27:38;:16::39:1;;;;;;;;;;28:40:28:61:0;:::65:1;:16::66;;;26:67:29:13;31:26:31:37:0;;:15::54:1;:58::164:0;:97::101;:105::120;;:91:::1;:129::133:0;:91::134:1;:137::143:0;;:91:::1;:146::162:0;;:91:::1;:84::163;:58::164;;;:15;32:30:32:41:0;;:19::56:1;:60::66:0;;:19:::1;31:15;33:30:33:41:0;;:19::54:1;:58::65:0;;:19:::1;31:15;33:67:36:13:0;34:34:34:38;:16::39:1;;;;;;;35:40:35:61:0;:::65:1;:16::66;33:67:36:13;37:26:37:37:0;;:::41:1;:12::42;;;;;;;;;;;;;38:16:38:27:0;;:30::47;23:8::49:1;;39:16:39:31:0;;:8::33:1;40:16:40:31:0;:8::33:1;41:16:41:37:0;:41::42;:8::44:1;42:41:42:42:0;:8::44:1;5:4:43:5;;;;",
    "logs": [],
    "requires": [
      {
        "ip": 28,
        "line": 15
      },
      {
        "ip": 159,
        "line": 39
      },
      {
        "ip": 161,
        "line": 40
      },
      {
        "ip": 164,
        "line": 41
      },
      {
        "ip": 166,
        "line": 42
      }
    ]
  },
  "compiler": {
    "name": "cashc",
    "version": "0.13.0-next.1"
  },
  "updatedAt": "2025-11-21T04:17:53.109Z"
}