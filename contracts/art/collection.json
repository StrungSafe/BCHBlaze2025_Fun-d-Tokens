{
  "contractName": "Collection",
  "constructorInputs": [
    {
      "name": "managerCategory",
      "type": "bytes"
    },
    {
      "name": "nextAsset1",
      "type": "bytes"
    },
    {
      "name": "asset1",
      "type": "bytes"
    },
    {
      "name": "amount1",
      "type": "int"
    },
    {
      "name": "nextAsset2",
      "type": "bytes"
    },
    {
      "name": "asset2",
      "type": "bytes"
    },
    {
      "name": "amount2",
      "type": "int"
    }
  ],
  "abi": [
    {
      "name": "assert",
      "inputs": []
    }
  ],
  "bytecode": "OP_0 OP_0 OP_BEGIN OP_DUP OP_UTXOTOKENCATEGORY OP_3 OP_PICK OP_EQUAL OP_IF OP_1 OP_ROT OP_DROP OP_SWAP OP_ENDIF OP_DUP OP_1ADD OP_NIP OP_DUP OP_TXINPUTCOUNT OP_GREATERTHANOREQUAL OP_UNTIL OP_SWAP OP_VERIFY OP_0 OP_0 OP_0 OP_BEGIN OP_2 OP_PICK OP_OUTPUTBYTECODE OP_6 OP_PICK OP_EQUAL OP_3 OP_PICK OP_OUTPUTTOKENCATEGORY OP_8 OP_PICK OP_EQUAL OP_BOOLAND OP_3 OP_PICK OP_OUTPUTTOKENAMOUNT OP_9 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_OVER OP_1ADD OP_ROT OP_DROP OP_SWAP OP_ENDIF OP_2 OP_PICK OP_OUTPUTBYTECODE OP_9 OP_PICK OP_EQUAL OP_3 OP_PICK OP_OUTPUTTOKENCATEGORY OP_11 OP_PICK OP_EQUAL OP_BOOLAND OP_3 OP_PICK OP_OUTPUTTOKENAMOUNT OP_12 OP_PICK OP_NUMEQUAL OP_BOOLAND OP_IF OP_DUP OP_1ADD OP_NIP OP_ENDIF OP_2 OP_PICK OP_1ADD OP_3 OP_ROLL OP_DROP OP_SWAP OP_TOALTSTACK OP_SWAP OP_FROMALTSTACK OP_2 OP_PICK OP_TXOUTPUTCOUNT OP_GREATERTHANOREQUAL OP_UNTIL OP_SWAP OP_1 OP_NUMEQUALVERIFY OP_1 OP_NUMEQUALVERIFY OP_2DROP OP_2DROP OP_2DROP OP_2DROP OP_DROP OP_1",
  "source": "pragma cashscript ~0.13.0;\r\n\r\ncontract Collection(bytes managerCategory, bytes nextAsset1, bytes asset1, int amount1, bytes nextAsset2, bytes asset2, int amount2) \r\n{\r\n    function assert() {\r\n        // verify manager in transaction\r\n        bool managerSeen = false;\r\n        int inputIndex = 0;\r\n        do {\r\n            if(tx.inputs[inputIndex].tokenCategory == managerCategory) {\r\n                managerSeen = true;\r\n            }\r\n            inputIndex = inputIndex + 1;\r\n        } while(inputIndex < tx.inputs.length);\r\n        require(managerSeen);\r\n\r\n        // assert the assets are collected\r\n        int outputIndex = 0;\r\n        int asset1CollectionCount = 0;\r\n        int asset2CollectionCount = 0;\r\n        do {\r\n            if(tx.outputs[outputIndex].lockingBytecode == nextAsset1\r\n                && tx.outputs[outputIndex].tokenCategory == asset1\r\n                && tx.outputs[outputIndex].tokenAmount == amount1) {\r\n                asset1CollectionCount = asset1CollectionCount + 1;\r\n            }\r\n\r\n            if(tx.outputs[outputIndex].lockingBytecode == nextAsset2\r\n                && tx.outputs[outputIndex].tokenCategory == asset2\r\n                && tx.outputs[outputIndex].tokenAmount == amount2) {\r\n                asset2CollectionCount = asset2CollectionCount + 1;\r\n            }\r\n            outputIndex = outputIndex + 1;\r\n        } while(outputIndex < tx.outputs.length);\r\n        require(asset1CollectionCount == 1);\r\n        require(asset2CollectionCount == 1);\r\n    }\r\n}\r\n",
  "debug": {
    "bytecode": "00006576ce53798763517b757c68768b7776c3a2667c69000000655279cd5679875379d15879879a5379d359799c9a63788b7b757c685279cd5979875379d15b79879a5379d35c799c9a63768b776852798b537a757c6b7c6c5279c4a2667c519d519d6d6d6d6d7551",
    "sourceMap": "7:27:7:32;8:25:8:26;9:8:14:47;10:25:10:35;:15::50:1;:54::69:0;;:15:::1;:71:12:13:0;11:30:11:34;:16::35:1;;;10:71:12:13;13:25:13:35:0;:::39:1;:12::40;14:16:14:26:0;:29::45;9:8::47:1;;15:16:15:27:0;:8::29:1;18:26:18:27:0;19:36:19:37;20::20;21:8:34:49;22:26:22:37;;:15::54:1;:58::68:0;;:15:::1;23:30:23:41:0;;:19::56:1;:60::66:0;;:19:::1;22:15;24:30:24:41:0;;:19::54:1;:58::65:0;;:19:::1;22:15;24:67:26:13:0;25:40:25:61;:::65:1;:16::66;;;24:67:26:13;28:26:28:37:0;;:15::54:1;:58::68:0;;:15:::1;29:30:29:41:0;;:19::56:1;:60::66:0;;:19:::1;28:15;30:30:30:41:0;;:19::54:1;:58::65:0;;:19:::1;28:15;30:67:32:13:0;31:40:31:61;:::65:1;:16::66;30:67:32:13;33:26:33:37:0;;:::41:1;:12::42;;;;;;;34:16:34:27:0;;:30::47;21:8::49:1;;35:16:35:37:0;:41::42;:8::44:1;36:41:36:42:0;:8::44:1;5:4:37:5;;;;;",
    "logs": [],
    "requires": [
      {
        "ip": 29,
        "line": 15
      },
      {
        "ip": 103,
        "line": 35
      },
      {
        "ip": 105,
        "line": 36
      }
    ]
  },
  "compiler": {
    "name": "cashc",
    "version": "0.13.0-next.1"
  },
  "updatedAt": "2025-11-22T16:46:57.492Z"
}